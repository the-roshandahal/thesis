{% load static %}
{% include 'header.html' %}

<div class="main-content">

    <div class="page-content">
        <div class="container-fluid">
            <!-- Main content here -->
             <div class="row">
                            <div class="col-xl-12">
                                <div class="card">
                                    <div class="card-body">
                                        <h5 class="card-title">Add Student</h5>
                                        <form method="POST" action="{% url 'add_student' %}">  
                                            {% csrf_token %}
                                            <div class="row">
                                                <div class="col-md-6">
                                                    <div class="form-floating mb-3">
                                                        <input type="text" name="first_name" class="form-control" id="floatingFirstnameInput" required placeholder="Enter Your First Name">
                                                        <label for="floatingFirstnameInput">First Name</label>
                                                    </div>
                                                </div>
                                                <div class="col-md-6">
                                                    <div class="form-floating mb-3">
                                                        <input type="text" name="last_name" class="form-control" id="floatingLastnameInput" required placeholder="Enter Your Last Name">
                                                        <label for="floatingLastnameInput">Last Name</label>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-md-6">
                                                    <div class="form-floating mb-3">
                                                        <input type="email"  name="email" class="form-control" id="floatingemailInput" required placeholder="Enter Email address">
                                                        <label for="floatingemailInput">Email address</label>
                                                    </div>
                                                </div>
                                                <div class="col-md-6">
                                                    <div class="form-floating mb-3">
                                                        <select name="department" class="form-select" id="floatingSelectGrid" aria-label="Floating label select example">
                                                            <option selected value="IT">IT</option>
                                                            <option value="business">Business</option>
                                                            <option value="others">Others</option>
                                                        </select>
                                                        <label for="floatingSelectGrid">Select Department</label>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-md-6">
                                                    <div class="form-floating mb-3">
                                                        <input type="password" name="password" class="form-control" id="password"
                                                            placeholder="Enter password"
                                                            minlength="8" required>
                                                        <label for="password">Password</label>
                                                        <div class="form-text">
                                                            Must be at least 8 characters, include a number, an uppercase, and a special character.
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-md-6">
                                                    <div class="form-floating mb-3">
                                                        <input type="password" name="password2" class="form-control" id="confirm_password"
                                                            placeholder="Confirm password" required>
                                                        <label for="confirm_password">Confirm Password</label>
                                                        <div class="form-text text-danger" id="password-error" style="display:none;">
                                                            Passwords do not match.
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div>
                                                <button type="submit" class="btn btn-primary w-md">Submit</button>
                                            </div>
                                        </form>
                                    </div>
                                    <!-- end card body -->
                                </div>
                                <!-- end card -->
                            </div>
                            <!-- end col -->
                        </div>
                        <!-- end row -->
<script>
document.addEventListener("DOMContentLoaded", function () {
    const password = document.getElementById("password");
    const confirmPassword = document.getElementById("confirm_password");
    const errorText = document.getElementById("password-error");

    function validatePasswords() {
        if (password.value !== confirmPassword.value) {
            errorText.style.display = "block";
            confirmPassword.setCustomValidity("Passwords do not match");
        } else {
            errorText.style.display = "none";
            confirmPassword.setCustomValidity("");
        }
    }

    password.addEventListener("input", validatePasswords);
    confirmPassword.addEventListener("input", validatePasswords);

    // Extra: enforce strong password pattern
    password.setAttribute("pattern", 
        "^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[@$!%*?&])[A-Za-z\\d@$!%*?&]{8,}$"
    );
    password.setAttribute("title", 
        "Must contain at least 8 characters, one uppercase, one lowercase, one number, and one special character."
    );
});
</script>












        </div>

    </div>
    <!-- End Page-content -->

</div>
<!-- end main content-->
{% include 'footer.html' %}